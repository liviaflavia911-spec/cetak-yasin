<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Content Manager - CetakYasin.id</title>

<style>
/* ======== GLOBAL RESET ======== */
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background: #f7f8fa;
  overflow-x: hidden; /* cegah scroll horizontal body */
}

/* ======== VARIABLE ======== */
:root {
  --sidebar-width: 250px;
  --sidebar-bg: #fff;
  --sidebar-border: #e0e0e0;
  --main-bg: #f7f8fa;
}

/* ======== SIDEBAR (Collections) ======== */
aside[class*="SidebarContainer"],
[class*="Sidebar"],
[class*="SidebarHeading"] {
  position: fixed !important;
  top: 0;
  left: 0;
  width: var(--sidebar-width);
  height: 100vh;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--sidebar-border);
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  z-index: 1000;
  transition: transform 0.3s ease;
}

/* ======== MAIN CONTENT ======== */
main[class*="CollectionMain"],
[class*="AppMainContainer"],
[class*="el91g8m0"],
[class*="ContentArea"] {
  position: relative;
  margin-left: var(--sidebar-width);
  width: calc(100% - var(--sidebar-width));
  min-height: 100vh;
  background: var(--main-bg);
  overflow-x: auto !important; /* biar bisa digeser kanan */
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
  box-sizing: border-box;
  padding: 16px;
}

/* ======== BIAR ISINYA BISA DIGESER ======== */
main[class*="CollectionMain"] > *,
[class*="AppMainContainer"] > * {
  min-width: 900px;
}

/* ======== RESPONSIVE ======== */
@media (max-width: 768px) {
  /* SEMBUNYIKAN SEGALA ELEMEN DI KIRI YANG TERLIHAT SEPERTI SIDEBAR */
  aside,
  [class*="Sidebar"],
  [class*="sidebar"],
  [class*="CollectionList"],
  [class*="CollectionPane"],
  [class*="Collections"],
  [class*="Pane"],
  [class*="LeftPanel"],
  [data-testid="sidebar"],
  [data-testid="collection-list"],
  div[aria-label="Collections"],
  div[role="complementary"] {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
    transform: translateX(-100%) !important;
    width: 0 !important;
    max-width: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    position: absolute !important;
    left: -9999px !important;
  }

  /* BUAT KOLOM KONTEN KANAN (BLOG) FULL WIDTH */
  main,
  [class*="AppMainContainer"],
  [class*="CollectionMain"],
  [class*="MainContent"],
  [role="main"],
  [class*="EditorContainer"] {
    width: 100% !important;
    margin: 0 !important;
    padding: 12px !important;
    display: block !important;
    overflow-x: auto !important;
    overflow-y: auto !important;
    background: var(--main-bg) !important;
  }

  /* CEGAH ISI BLOG TERPOTONG */
  main > *,
  [class*="EditorContainer"] > * {
    min-width: 900px !important;
  }
}



</style>
</head>

<body>
<script is:inline src="https://unpkg.com/netlify-cms@^2.10.192/dist/netlify-cms.js"></script>
<script is:inline>
    CMS.registerPreviewStyle("/admin/preview.css");

    // Optional: Komponen editor untuk mobile
    if (window.innerWidth < 768) {
        CMS.registerEditorComponent({
            id: "image",
            label: "Image",
            fields: [
                { name: "image", label: "Image", widget: "image" },
                { name: "alt", label: "Alt Text", widget: "string" }
            ],
            pattern: /^!\[(.*)\]\((.*)\)$/,
            fromBlock: function(match) {
                return {
                    image: match[2],
                    alt: match[1]
                };
            },
            toBlock: function(data) {
                return `![${data.alt || ""}](${data.image})`;
            },
            toPreview: function(data) {
                return `<img src="${data.image}" alt="${data.alt || ""}" style="max-width: 100%; height: auto;">`;
            }
        });
    }
</script>
</body>
</html>
